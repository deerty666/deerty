<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ù‚Ø§Ø¦Ù…Ø© Ù…Ø·Ø§Ø¹Ù… ÙˆÙ…Ø·Ø§Ø¨Ø® Ø³Ø­Ø§ÙŠØ¨ Ø¯ÙŠØ±ØªÙŠ</title>
<link rel="manifest" href="manifest.json">
<link rel="icon" href="Logo2.png" type="image/png">
<link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700&display=swap" rel="stylesheet">
<style>
body { font-family: 'Tajawal', sans-serif; margin:0; background:#f7f7f7; }
header { background:#4A423A; color:#fff; padding:10px; text-align:center; }
.menu-section { padding:10px; }
.menu-section h2 { border-bottom:2px solid #C9A676; padding-bottom:5px; margin-bottom:10px; }
.menu-item { display:flex; align-items:center; justify-content:space-between; margin:5px 0; background:#fff; padding:5px; border-radius:8px; box-shadow:0 2px 4px rgba(0,0,0,0.1); }
.menu-item img { width:60px; height:60px; border-radius:8px; object-fit:cover; margin-left:10px; }
.menu-item span { flex:1; }
.menu-item button { background:#C9A676; border:none; border-radius:5px; padding:5px 10px; cursor:pointer; color:#fff; font-weight:bold; }
#cart { position:fixed; bottom:10px; right:10px; background:#C9A676; color:#fff; padding:10px 15px; border-radius:50px; cursor:pointer; font-weight:bold; box-shadow:0 2px 6px rgba(0,0,0,0.2);}
.install-prompt { position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.5); display:flex; align-items:center; justify-content:center; z-index:1000; }
.install-box { background:#fff; padding:20px; border-radius:10px; text-align:center; max-width:350px; }
.install-box button { margin:5px; padding:8px 12px; border:none; border-radius:5px; cursor:pointer; }
.install-box #installBtn { background:#4A423A; color:#fff; }
.install-box #dismissBtn { background:#C9A676; color:#fff; }
/* ØªØµÙ…ÙŠÙ… Ø§Ù„Ø³Ù„Ø© */
#cartPopup .cart-item { display:flex; justify-content: space-between; align-items:center; margin:5px 0; }
#cartPopup .cart-item input { width:40px; margin:0 5px; text-align:center; }
</style>
</head>
<body>
<header>
<h1>Ù…Ø·Ø§Ø¹Ù… ÙˆÙ…Ø·Ø§Ø¨Ø® Ø³Ø­Ø§ÙŠØ¨ Ø¯ÙŠØ±ØªÙŠ</h1>
</header>

<main>
<!-- Ù‚Ø³Ù… Ø§Ù„Ø¯Ø¬Ø§Ø¬ -->
<section class="menu-section">
<h2>Ù‚Ø³Ù… Ø§Ù„Ø¯Ø¬Ø§Ø¬</h2>
<div class="menu-item"><img src="placeholder.png" alt=""><span>Ù†Øµ Ø­Ø¨Ù‡ Ù…Ø¸Ø¨ÙŠ Ø±Ø² Ø´Ø¹Ø¨ÙŠ</span><span>24</span><button onclick="addToCart('Ù†Øµ Ø­Ø¨Ù‡ Ù…Ø¸Ø¨ÙŠ Ø±Ø² Ø´Ø¹Ø¨ÙŠ',24)">+</button></div>
<div class="menu-item"><img src="placeholder.png" alt=""><span>Ù†Øµ Ø­Ø¨Ù‡ Ù…Ù†Ø¯ÙŠ Ø±Ø² Ø´Ø¹Ø¨ÙŠ</span><span>24</span><button onclick="addToCart('Ù†Øµ Ø­Ø¨Ù‡ Ù…Ù†Ø¯ÙŠ Ø±Ø² Ø´Ø¹Ø¨ÙŠ',24)">+</button></div>
<div class="menu-item"><img src="placeholder.png" alt=""><span>Ø­Ø¨Ù‡ ÙƒØ§Ù…Ù„ Ù…Ø¯ÙÙˆÙ† Ø±Ø² Ø´Ø¹Ø¨ÙŠ</span><span>46</span><button onclick="addToCart('Ø­Ø¨Ù‡ ÙƒØ§Ù…Ù„ Ù…Ø¯ÙÙˆÙ† Ø±Ø² Ø´Ø¹Ø¨ÙŠ',46)">+</button></div>
<div class="menu-item"><img src="placeholder.png" alt=""><span>Ù†Øµ Ø­Ø¨Ù‡ Ù…Ø¯ÙÙˆÙ† Ø±Ø² Ø´Ø¹Ø¨ÙŠ</span><span>24</span><button onclick="addToCart('Ù†Øµ Ø­Ø¨Ù‡ Ù…Ø¯ÙÙˆÙ† Ø±Ø² Ø´Ø¹Ø¨ÙŠ',24)">+</button></div>
<!-- Ø£Ø¶Ù Ø¨Ù‚ÙŠØ© Ø§Ù„Ø£ØµÙ†Ø§Ù ÙƒÙ…Ø§ ØªØ±ÙŠØ¯ -->
</section>

<!-- Ù‚Ø³Ù… Ø§Ù„Ø­Ù… -->
<section class="menu-section">
<h2>Ù‚Ø³Ù… Ø§Ù„Ø­Ù…</h2>
<div class="menu-item"><img src="placeholder.png" alt=""><span>Ù†Øµ ØªÙŠØ³ Ù…Ù†Ø¯ÙŠ Ø±Ø² Ø´Ø¹Ø¨ÙŠ</span><span>750</span><button onclick="addToCart('Ù†Øµ ØªÙŠØ³ Ù…Ù†Ø¯ÙŠ Ø±Ø² Ø´Ø¹Ø¨ÙŠ',750)">+</button></div>
<div class="menu-item"><img src="placeholder.png" alt=""><span>Ø±Ø¨Ø¹ ØªÙŠØ³ Ù…Ù†Ø¯ÙŠ Ø±Ø² Ø´Ø¹Ø¨ÙŠ</span><span>375</span><button onclick="addToCart('Ø±Ø¨Ø¹ ØªÙŠØ³ Ù…Ù†Ø¯ÙŠ Ø±Ø² Ø´Ø¹Ø¨ÙŠ',375)">+</button></div>
</section>

<!-- Ù‚Ø³Ù… Ø§Ù„Ù…Ø´Ø±ÙˆØ¨Ø§Øª -->
<section class="menu-section">
<h2>Ù‚Ø³Ù… Ø§Ù„Ù…Ø´Ø±ÙˆØ¨Ø§Øª</h2>
<div class="menu-item"><img src="placeholder.png" alt=""><span>Ø¨Ø¨Ø³ÙŠ ÙˆØ³Ø·</span><span>6</span><button onclick="addToCart('Ø¨Ø¨Ø³ÙŠ ÙˆØ³Ø·',6)">+</button></div>
<div class="menu-item"><img src="placeholder.png" alt=""><span>Ø¨Ø¨Ø³ÙŠ ÙƒØ¨ÙŠØ±</span><span>9</span><button onclick="addToCart('Ø¨Ø¨Ø³ÙŠ ÙƒØ¨ÙŠØ±',9)">+</button></div>
</section>

<!-- Ø£Ø¶Ù Ø¨Ø§Ù‚ÙŠ Ø§Ù„Ø£Ù‚Ø³Ø§Ù… Ø¨Ù†ÙØ³ Ø§Ù„Ø·Ø±ÙŠÙ‚Ø© -->

</main>

<!-- Ø²Ø± Ø§Ù„Ø³Ù„Ø© Ù„Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ø³Ù„Ø© -->
<div id="cart" onclick="showCart()">ğŸ›’ Ø¹Ø±Ø¶ Ø§Ù„Ø³Ù„Ø©</div>

<!-- Ù†Ø§ÙØ°Ø© Ø§Ù„Ø³Ù„Ø© Ø§Ù„Ù…Ù†Ø¨Ø«Ù‚Ø© -->
<div id="cartPopup" class="install-prompt" style="display:none;">
  <div class="install-box">
    <h3>Ø³Ù„Ø© Ø·Ù„Ø¨Ùƒ</h3>

    <!-- Ø§Ø®ØªÙŠØ§Ø± Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù… -->
    <div style="margin-bottom:10px; text-align:right;">
      <label>
        <input type="radio" name="delivery" value="pickup" checked onchange="showCart()">
        Ø§Ø³ØªÙ„Ø§Ù… Ù…Ù† Ø§Ù„Ù…Ø·Ø¹Ù… (Ù…Ø¬Ø§Ù†ÙŠ)
      </label>
      <br>
      <label>
        <input type="radio" name="delivery" value="delivery" onchange="showCart()">
        ØªÙˆØµÙŠÙ„ (5 Ø±ÙŠØ§Ù„)
      </label>
    </div>

    <div id="cartItemsContainer"></div>
    <p id="cartTotal"></p>
    <div class="buttons">
      <button onclick="sendOrder()" style="background:#4A423A; color:#fff;">Ø¥Ø±Ø³Ø§Ù„ Ù„Ù„ÙˆØ§ØªØ³</button>
      <button onclick="closeCart()" style="background:#C9A676; color:#fff;">Ø¥ØºÙ„Ø§Ù‚</button>
    </div>
  </div>
</div>

<!-- Ù†Ø§ÙØ°Ø© ØªØ«Ø¨ÙŠØª Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ -->
<div id="installPrompt" class="install-prompt">
  <div class="install-box">
    <h3>Ù‡Ù„ ØªØ±ØºØ¨ Ø¨ØªØ«Ø¨ÙŠØª ØªØ·Ø¨ÙŠÙ‚ Ù…Ø·Ø§Ø¹Ù… ÙˆÙ…Ø·Ø§Ø¨Ø® Ø³Ø­Ø§ÙŠØ¨ Ø¯ÙŠØ±ØªÙŠØŸ ğŸ½ï¸</h3>
    <p>Ø§Ø³ØªÙ…ØªØ¹ Ø¨ØªØµÙØ­ Ø£Ø³Ø±Ø¹ ÙˆØ¨Ø¯ÙˆÙ† Ø¥Ù†ØªØ±Ù†Øª Ø¨Ø¹Ø¯ Ø§Ù„ØªØ«Ø¨ÙŠØª.</p>
    <div class="buttons">
      <button id="installBtn">ØªØ«Ø¨ÙŠØª Ø§Ù„Ø¢Ù†</button>
      <button id="dismissBtn">Ù„Ø§Ø­Ù‚Ù‹Ø§</button>
    </div>
  </div>
</div>

<script>
// Service Worker Ù„Ù„ØªØ´ØºÙŠÙ„ Ø¨Ø¯ÙˆÙ† Ø§Ù†ØªØ±Ù†Øª
if ('serviceWorker' in navigator) {
    navigator.serviceWorker.register('sw.js')
    .then(() => console.log('Service Worker Registered'))
    .catch(err => console.log('SW registration failed:', err));
}

// Ù†Ø§ÙØ°Ø© Ø§Ù„ØªØ«Ø¨ÙŠØª
let deferredPrompt;
const installPrompt = document.getElementById('installPrompt');
const installBtn = document.getElementById('installBtn');
const dismissBtn = document.getElementById('dismissBtn');
installPrompt.style.display = 'none';
if (!localStorage.getItem('installDismissed')) {
  window.addEventListener('beforeinstallprompt', (e) => {
    e.preventDefault();
    deferredPrompt = e;
    installPrompt.style.display = 'flex';
  });
}
installBtn.addEventListener('click', async () => {
  installPrompt.style.display = 'none';
  deferredPrompt.prompt();
  await deferredPrompt.userChoice;
  deferredPrompt = null;
});
dismissBtn.addEventListener('click', () => {
  installPrompt.style.display = 'none';
  localStorage.setItem('installDismissed', 'true');
});

// Ø³Ù„Ø© Ø§Ù„Ø·Ù„Ø¨Ø§Øª
let cartItems = [];

function addToCart(name, price) {
  let existing = cartItems.find(item => item.name === name);
  if(existing){
    existing.quantity += 1;
  } else {
    cartItems.push({name, price, quantity:1});
  }
  alert(name + " ØªÙ… Ø¥Ø¶Ø§ÙØªÙ‡ Ù„Ù„Ø³Ù„Ø©");
}

function getDeliveryFee() {
  const method = document.querySelector('input[name="delivery"]:checked').value;
  return method === 'delivery' ? 5 : 0;
}

function showCart() {
  const container = document.getElementById('cartItemsContainer');
  const total = document.getElementById('cartTotal');
  container.innerHTML = '';
  let sum = 0;
  
  if(cartItems.length === 0){
    container.innerHTML = '<p>Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ©</p>';
    total.innerHTML = '';
  } else {
    cartItems.forEach((item, index) => {
      sum += item.price * item.quantity;
      const div = document.createElement('div');
      div.className = 'cart-item';
      div.style.display = 'flex';
      div.style.justifyContent = 'space-between';
      div.style.alignItems = 'center';
      div.style.margin = '5px 0';
      div.innerHTML = `
        <span>${item.name} - ${item.price} Ø±ÙŠØ§Ù„</span>
        <div>
          <input type="number" min="1" value="${item.quantity}" onchange="updateQuantity(${index}, this.value)">
          <button onclick="removeItem(${index})" style="background:red;color:#fff;border:none;border-radius:5px;padding:2px 5px;">âœ–</button>
        </div>
      `;
      container.appendChild(div);
    });
    const deliveryFee = getDeliveryFee();
    const grandTotal = sum + deliveryFee;
    total.innerHTML = `<strong>Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: ${sum} Ø±ÙŠØ§Ù„</strong><br>Ø±Ø³ÙˆÙ… Ø§Ù„ØªÙˆØµÙŠÙ„: ${deliveryFee} Ø±ÙŠØ§Ù„<br><strong>Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„ÙƒÙ„ÙŠ: ${grandTotal} Ø±ÙŠØ§Ù„</strong>`;
  }
  
  document.getElementById('cartPopup').style.display = 'flex';
}

function closeCart() {
  document.getElementById('cartPopup').style.display = 'none';
}

function removeItem(index) {
  cartItems.splice(index, 1);
  showCart();
}

function updateQuantity(index, value) {
  value = parseInt(value);
  if(value < 1) value = 1;
  cartItems[index].quantity = value;
  showCart();
}

function sendOrder() {
  if(cartItems.length === 0) { alert("Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ©"); return; }
  const method = document.querySelector('input[name="delivery"]:checked').value;
  let message = "Ø·Ù„Ø¨ Ù…Ù† Ù…Ø·Ø§Ø¹Ù… ÙˆÙ…Ø·Ø§Ø¨Ø® Ø³Ø­Ø§ÙŠØ¨ Ø¯ÙŠØ±ØªÙŠ:%0A";
  cartItems.forEach(item => { 
    message += `${item.name} - ${item.price} Ø±ÙŠØ§Ù„ Ã— ${item.quantity}%0A`; 
  });
  const deliveryFee = getDeliveryFee();
  if(deliveryFee > 0) {
    message += `Ø±Ø³ÙˆÙ… Ø§Ù„ØªÙˆØµÙŠÙ„: ${deliveryFee} Ø±ÙŠØ§Ù„%0A`;
  } else {
    message += `Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù…: Ø§Ø³ØªÙ„Ø§Ù… Ù…Ù† Ø§Ù„Ù…Ø·Ø¹Ù… (Ù…Ø¬Ø§Ù†ÙŠ)%0A`;
  }
  let whatsappNumber = "0536803598"; 
  window.open(`https://wa.me/${whatsappNumber}?text=${message}`, '_blank');
  cartItems = [];
  closeCart();
}
</script>
</body>
</html>
